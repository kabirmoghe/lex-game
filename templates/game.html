<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Word Game</title>
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename = 'style.css')}}">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Oxygen&display=swap" rel="stylesheet">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript">
		function moveOnMax(field,nextFieldID){
		  if(field.value.length >= field.maxLength){
		    document.getElementById(nextFieldID).focus();
		  }
		}
	</script>
	<script type="text/javascript">
	    $(document).ready(function () {
	 
	      $('input').keyup(function (e) {
	        if (e.which == 39) { // right arrow
	          $(this).closest('input').next().find('input').focus();
	 
	        } else if (e.which == 37) { // left arrow
	          $(this).closest('input').prev().find('input').focus();
	 
	        }
	      });
	    });
	</script>


</head>
<body>
	<div class="content">
		<div class="title">
			<h1>Word Game</h1>
			<p>Given 10 letters, look for the 5 highest-scoring words using those letters. You have up to 5 guesses to find them.</p>
			<p class="head">Letters</p>
			{% for letter in letters %}
				<img class="tile" src="{{url_for('static', filename = letter+'.svg')}}">
			{% endfor %}

			<p>{{totalWords}}</p>

			<form method = "post">
				<p>
					<input class="tile" type="text" name="1" id="1" required maxlength="1" autofocus="autofocus" onkeyup="moveOnMax(this,'2')">
					<input class="tile" type="text" name="2" id="2" required maxlength="1" onkeyup="moveOnMax(this,'3')">
					<input class="tile" type="text" name="3" id="3" required maxlength="1" onkeyup="moveOnMax(this,'4')">
					<input class="tile" type="text" name="4" id="4" maxlength="1" onkeyup="moveOnMax(this,'5')">
					<input class="tile" type="text" name="5" id="5" maxlength="1" onkeyup="moveOnMax(this,'next')">
					<br>
					<br>
					<input class="submit" type="submit" id = "next" name="nextButton" value = "Next">
				    <a href="{{ url_for('done') }}" class="button">Done</a>
				</p>
			</form>
			
			<p class="error"><em>{{error}}</em></p>
		</div>
	</div>
	<div class="ncontent">
		<div class="title">
			<p style="margin-left: 90px;">
				<img style="max-width: 3%; height: auto; margin-left: {{scorePos}}%;" src="{{url_for('static', filename='score_arrow.svg')}}">
				<br>
				<img class="score_gauge" src="{{url_for('static', filename = 'score_gauge.svg')}}"> &nbsp; &nbsp; <span class="tally">{{score}} points</span>
			</p>
		</div>
	</div>
	<div class="content">
		<div class="title">
			<p>	
				{% for guess in guesses %}
					{{guess}}, {{guesses[guess]}}<br>
				{% endfor %}
			</p>
		</div>
	</div>
</body>
</html>